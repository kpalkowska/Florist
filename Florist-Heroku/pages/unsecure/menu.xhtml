<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition>
	<h:form>
		<p:menubar styleClass="MenuBar">
			<p:submenu label="Types" >
				<p:menuitem value="Roses"
					action='#{selectProductBean.showProductsByName("rose")}' />
				<p:menuitem value="Tulips"
					action='#{selectProductBean.showProductsByName("tulip")}' />
				<p:menuitem value="All" action="#{selectProductBean.showAll()}" />
			</p:submenu>
			<p:submenu label="Colors">
				<p:menuitem value="Pink"
					action='#{selectProductBean.showProductsByColor("pink")}' />
				<p:menuitem value="Red"
					action='#{selectProductBean.showProductsByColor("red")}' />
				<p:menuitem value="Multicolour"
					action='#{selectProductBean.showProductsByColor("multicolour")}' />
			</p:submenu>
			<p:submenu label="Forms">
				<p:menuitem value="Single"
					action='#{selectProductBean.showProductsByType("single")}' />
				<p:menuitem value="Potted"
					action='#{selectProductBean.showProductsByType("potted")}' />
				<p:menuitem value="Bouquets"
					action='#{selectProductBean.showProductsByType("bouquet")}' />
			</p:submenu>

			<f:facet name="options">
				<p:button value="New User" styleClass="loginPanelBtn" href="/pages/unsecure/newUser.xhtml"
					rendered="#{empty facesContext.externalContext.request.remoteUser}" icon="ui-icon-star"/>
			<p:button value="Login" styleClass="loginPanelBtn" icon="ui-icon-home"
					href="/pages/unsecure/login.xhtml" 
					rendered="#{empty facesContext.externalContext.request.remoteUser}" />
			</f:facet>

			<f:facet name="options">
				<h:outputText
					value="Logged in as: #{facesContext.externalContext.request.remoteUser}"
					styleClass="menuItem"
					rendered="#{not empty facesContext.externalContext.request.remoteUser}" />

				<p:commandButton styleClass="loginPanelBtn" value="Logout"
					action="#{loginBean.logout()}" icon="ui-icon-extlink"
					rendered="#{not empty facesContext.externalContext.request.remoteUser}" />

				<p:commandButton styleClass="loginPanelBtn" value="New Product"
					action="#{productBean.newProduct()}"
					rendered="#{not empty facesContext.externalContext.request.remoteUser}" />

			</f:facet>

		</p:menubar>
	</h:form>
</ui:composition>
</html>